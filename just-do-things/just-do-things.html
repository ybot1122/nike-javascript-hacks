<head>
  <title>just-do-things</title>
</head>

<body>
    <h1>Rival Tweets</h1>
    {{> expandables}}
</body>

<template name="expandables">
    {{#each rival}}
        {{#if data (a) (b)}}
            {{#with data (a) (b)}}
                {{> comparison}}
            {{/with}}
        {{else}}
            <div class="clickable" data-a={{a}} data-b={{b}}>
                {{a}} versus {{b}}
            </div>
        {{/if}}
    {{/each}}
</template>

<template name="rivalry">
    {{#each rival}}
        {{> comparison}}
    {{/each}}
</template>

<template name="comparison">
    <div class="compare">
        {{#with left}}
            {{> column}}
        {{/with}}
        {{#with right}}
            {{> column}}
        {{/with}}
    </div>
</template>

<template name="column">
  <div class="column">
    <h2>{{name}}</h2>
    <div class="pic">
        <img src="{{image}}" />
    </div>
    <div class="chatroom">
        {{#each tweets}}
            <div class="tweet">
                <span>{{time}}</span>
                <span>{{message}}</span>
            </div>
        {{/each}}
    </div>
    {{> submission}}
  </div>
</template>

<template name="submission">
    <form class="submit" data-name={{name}}>
        <input class="talk" name="text" type="text" />
        <input class="smack" type="submit" value="send" />
    </form>
</template>